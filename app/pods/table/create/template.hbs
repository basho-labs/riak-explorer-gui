{{#if errors}}
  {{#alert-component type="danger" dismissible=false}}
    {{#if (is-array errors)}}
      <h4><span class="label label-danger">Errors</span></h4>
      <ul>
        {{#each errors as |error|}}
          <li>{{error}}</li>
        {{/each}}
      </ul>
    {{else}}
      <h4><span class="label label-danger">Error</span></h4>
      <p>{{errors}}</p>
    {{/if}}
  {{/alert-component}}
{{/if}}

<div class="table-create-container">
  {{#dashboard-module.container class='medium-width'}}
    {{#dashboard-module.header label='Table Schema Editor'}}
      <div class="module-actions">
        {{!--<button class="btn btn-primary" {{action 'showHelp'}}>SHOW HELP</button>--}}
        {{#link-to 'cluster.data' model.cluster.name class="cancel action-button"}}
          <span class="ion-close-round" aria-hidden="true"></span>
          Cancel
        {{/link-to}}
      </div>
    {{/dashboard-module.header}}
    {{#dashboard-module.body}}
      {{#if showSpinner}}
        {{loading-spinner statusMessage=model.statusMessage}}
      {{else}}
        <div class="manually-create">
          <label>
            Use the editor below to define your table
            <span class="btn btn-xs btn-info" {{action 'insertTemplate'}}>Insert Sample Template</span>

            {{#if helpVisibile}}
              <span class="btn btn-xs btn-info" {{action 'removeHelp'}}>Hide Schema Guidelines</span>
            {{else}}
              <span class="btn btn-xs btn-info" {{action 'showHelp'}}>Schema Guidelines</span>
            {{/if}}
          </label>

          {{ivy-codemirror
          mode='sql'
          theme='material'
          autofocus=true
          value=statement}}

          <div class="form-group create-button">
            <button class="btn btn-primary" {{action 'createTableManually'}}>Create Table</button>
          </div>
          {{!--{{form.table.create-table--}}
          {{!--errors=(mut errors)--}}
          {{!--table=model--}}
          {{!--addField='addField'--}}
          {{!--removeField='removeField'--}}
          {{!--createTable='createTable'}}--}}
        </div>
      {{/if}}
    {{/dashboard-module.body}}
  {{/dashboard-module.container}}
</div>

{{#ember-wormhole to="side-drawer-container"}}
  {{#side-drawer
  label='Schema Guidelines'
  visible=helpVisibile}}
    {{!--<ul>--}}
      {{!--<li>If field names need to contain spaces they can be double quoted.</li>--}}
      {{!--<li>Quantum field name must be an existing field in the table definition of type <strong>timestamp</strong></li>--}}
      {{!--<li>For more information on planning and creating a time series table, visit the <a href="http://docs.basho.com/riak/ts/1.2.0/using/planning/" target="_blank">Basho Docs</a>.</li>--}}
    {{!--</ul>--}}
    {{render 'partials.schema-anatomy'}}
  {{/side-drawer}}
{{/ember-wormhole}}
